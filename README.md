# 学生成绩管理系统

## 数据库连接信息

使用以下命令连接到MySQL数据库：

```bash
mysql -u root -p Newuser1
```

默认数据库为 `school_management`。

## 数据库结构文档

有关详细的数据库表结构信息，请参阅 [DATABASE_SCHEMA.md](file:///home/jimmy/repo/scout/DATABASE_SCHEMA.md) 文件。

### 数据库结构

`school_management` 数据库包含以下七个表及其结构：

1. **Classes 表**：
   - class_id (int, 主键, 自增)
   - class_name (varchar(255), 非空)
   
   示例数据：
   ```
   +----------+------------+
   | class_id | class_name |
   +----------+------------+
   |        1 | 高三1班    |
   |        2 | 高三2班    |
   |        3 | 高三3班    |
   |        4 | 高三4班    |
   +----------+------------+
   ```

2. **Teachers 表**：
   - teacher_id (int, 主键, 自增)
   - teacher_name (varchar(255), 非空)
   - subject_id (int, 非空, 外键引用Subjects.subject_id)
   
   示例数据：
   ```
   +------------+-------------+------------+
   | teacher_id | teacher_name| subject_id |
   +------------+-------------+------------+
   |          1 | 王老师      |          1 |
   |          2 | 李老师      |          2 |
   |          3 | 张老师      |          3 |
   |          4 | 胡老师      |          4 |
   |          5 | 赵老师      |          5 |
   +------------+-------------+------------+
   ```

3. **TeacherClasses 表**：
   - teacher_id (int, 非空, 外键引用Teachers.teacher_id)
   - class_id (int, 非空, 外键引用Classes.class_id)
   
   示例数据：
   ```
   +------------+----------+
   | teacher_id | class_id |
   +------------+----------+
   |          1 |        1 |
   |          2 |        1 |
   |          3 |        1 |
   |          1 |        2 |
   |          2 |        2 |
   +------------+----------+
   ```

4. **Students 表**：
   - student_id (varchar(255), 主键)
   - student_name (varchar(255), 非空)
   - class_id (int, 非空, 外键引用Classes.class_id)
   - password (varchar(255), 可为空)
   
   示例数据：
   ```
   +------------+-------------+----------+----------+
   | student_id | student_name| class_id | password |
   +------------+-------------+----------+----------+
   | S1001      | 尤丽        |        3 | pass123  |
   | S1002      | 卫桂英      |        2 | pass123  |
   | S1003      | 郑娟        |        1 | pass123  |
   | S1004      | 杨敏        |        4 | pass123  |
   | S1005      | 秦敏        |        4 | pass123  |
   +------------+-------------+----------+----------+
   ```

5. **Scores 表**：
   - score_id (int, 主键, 自增)
   - student_id (varchar(255), 非空, 外键引用Students.student_id)
   - subject_id (int, 非空, 外键引用Subjects.subject_id)
   - exam_type_id (int, 非空, 外键引用ExamTypes.exam_type_id)
   - score_value (decimal(5,2), 可为空)
   
   示例数据：
   ```
   +----------+------------+------------+---------------+------------+
   | score_id | student_id | subject_id | exam_type_id  | score_value|
   +----------+------------+------------+---------------+------------+
   |        1 | S1001      |          1 |             1 |    85.00   |
   |        2 | S1001      |          2 |             1 |    69.00   |
   |        3 | S1001      |          3 |             1 |    76.00   |
   |        4 | S1001      |          4 |             1 |    87.00   |
   |        5 | S1001      |          5 |             1 |    60.00   |
   +----------+------------+------------+---------------+------------+
   ```

6. **ExamTypes 表**：
   - exam_type_id (int, 主键, 自增)
   - exam_type_name (varchar(255), 非空)
   
   示例数据：
   ```
   +-------------+-----------------+
   | exam_type_id| exam_type_name  |
   +-------------+-----------------+
   |       1     | 第一次月考      |
   |       2     | 期中考          |
   |       3     | 第二次月考      |
   |       4     | 期末考          |
   +-------------+-----------------+
   ```

7. **Subjects 表**：
   - subject_id (int, 主键)
   - subject_name (varchar(255), 非空)
   
   示例数据：
   ```
   +------------+-------------+
   | subject_id | subject_name|
   +------------+-------------+
   |          1 | 语文        |
   |          2 | 数学        |
   |          3 | 英语        |
   |          4 | 物理        |
   |          5 | 化学        |
   +------------+-------------+
   ```

### 数据导入

系统中的数据来自 [school_management_data.xlsx](file:///home/jimmy/repo/scout/school_management_data.xlsx) 文件，包含以下7个工作表：

1. **Classes** - 班级信息
2. **Teachers** - 教师信息
3. **TeacherClasses** - 教师班级关联信息
4. **Students** - 学生信息
5. **Scores** - 学生成绩信息
6. **ExamTypes** - 考试类型信息
7. **Subjects** - 科目信息

使用以下脚本将Excel数据导入到数据库：

```bash
python3 import_school_data.py
```

导入完成后，数据库中的数据量如下：
- Classes 表: 36 条记录
- Teachers 表: 132 条记录
- TeacherClasses 表: 168 条记录
- Students 表: 120 条记录
- Scores 表: 31680 条记录
- ExamTypes 表: 8 条记录
- Subjects 表: 6 条记录

### 数据分析结果

基于数据库中的数据，我们进行了以下分析：

#### 总体统计
- 数据库中共有7个表
- Scores表数据量最大，共31680条记录
- 总体平均分: 80.8分
- 分数范围: 60-100分

#### 各科目统计
| 科目 | 最低分 | 最高分 | 平均分 | 记录数 |
|------|--------|--------|--------|--------|
| 语文 | 60 | 100 | 80.72 | 2400 |
| 数学 | 60 | 100 | 80.86 | 2400 |
| 英语 | 60 | 100 | 81.23 | 2400 |
| 物理 | 60 | 100 | 80.85 | 2400 |
| 化学 | 60 | 100 | 79.82 | 2400 |
| 政治 | 60 | 100 | 81.34 | 2400 |

#### 各次考试统计
| 考试类型 | 最低分 | 最高分 | 平均分 | 记录数 |
|----------|--------|--------|--------|--------|
| 第一次月考 | 60 | 100 | 81.16 | 3600 |
| 期中考 | 60 | 100 | 79.94 | 3600 |
| 第二次月考 | 60 | 100 | 79.70 | 3600 |
| 期末考 | 70 | 95 | 82.43 | 3600 |

#### 班级人数分布
- 高三1班: 98人
- 高三2班: 56人
- 高三3班: 38人
- 高三4班: 50人

#### 教师任课情况
共有12名教师，每位教师教授2个班级，每位教师负责一个科目。