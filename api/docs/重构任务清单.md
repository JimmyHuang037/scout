# 重构任务清单

## 1. 移除已废弃的代码
**文件**: `/apps/utils/auth.py`
**状态**: 待处理
**描述**: 此文件已被标记为废弃，功能已迁移至 decorators.py
**操作**: 
- 确认所有引用都已更新为使用 decorators.py 中的功能
- 删除 auth.py 文件

## 2. 简化代码注释
**文件**: 多个文件
**状态**: 待处理
**描述**: 移除冗余的文档字符串，保持注释简洁
**操作**:
- 移除不必要的参数注释和类型注释
- 只保留提供额外上下文信息的必要注释
- 依赖良好的命名来实现代码自解释

**示例** (`/apps/utils/responses.py`):
```python
# 重构前
def success_response(data=None, message="Success"):
    """
    生成成功的JSON响应
    
    Args:
        data: 响应数据
        message: 响应消息
        
    Returns:
        JSON: 成功响应
    """
    # ...

# 重构后
def success_response(data=None, message="Success"):
    """生成成功的JSON响应"""
    # ...
```

## 3. 方法长度优化
**文件**: `/apps/utils/decorators.py`
**状态**: 待处理
**描述**: handle_exceptions 函数超过15行，需要拆分
**操作**:
- 将异常处理逻辑拆分为更小的函数
- 提高代码可读性和维护性

## 4. 统一导入语句
**文件**: 所有 utils 文件
**状态**: 待处理
**描述**: 确保导入语句顺序和分组一致
**操作**:
- 确保所有导入语句使用绝对导入
- 保持导入语句的顺序和分组一致

## 5. 移除不必要的代码
**文件**: `/apps/utils/database_service.py`
**状态**: 待处理
**描述**: 移除不必要的单例模式实现
**操作**:
- 移除 `get_db` 和 `close_db` 函数中的单例模式
- 简化数据库连接管理

## 6. 验证日志系统规范
**文件**: 多个文件
**状态**: 待验证
**描述**: 确认正确使用 Flask 内置日志系统
**操作**:
- 保持当前的日志实现方式
- 确保日志消息清晰且有助于调试

## 7. 验证环境变量使用
**文件**: `/apps/utils/database_service.py`
**状态**: 待验证
**描述**: 确认直接从配置中获取数据库信息而不是使用环境变量
**操作**:
- 保持当前实现，因为它符合重构规范中"使用固定值即可"的原则
